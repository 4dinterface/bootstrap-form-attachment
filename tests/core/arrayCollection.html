<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>ArrayCollection Testing</title>
        <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.11.0.css">
        <script src="http://code.jquery.com/qunit/qunit-1.11.0.js"></script>  
        
        <script src="../../client/core/Class.js"></script>       
        <script src="../../client/core/Component.js"></script>       
        
    </head>
    <body>
        <script src="../../client/core/ArrayCollection.js"></script>            
        
        <div id="qunit"></div>
        <div id="qunit-fixture"></div>                        
              
        <script>                            
              test( "test length", function() {                
                  var z=new app.ArrayCollection();
                  z.push(1);
                  z.push(2);
                  z.push(3);
                  z.push(3);                  
                  z.pop();
                  
                  //alert(z.length);
                  ok( z.length==3, " push/pop Passed! " );                                                                            
                  
                  z[6]=100;
                  z.push(123);
                  z.push(123);
                  z.push(123);
                  z.pop(1);                  
                  z.pop(1);   
                  z.pop(1);   
                  ok( z.length==7, " []/push/pop Passed! " );                                                                            
              });             

              test( "foreach", function() {                
                var z=new app.ArrayCollection();              
                z[1]=1;
                z[3]=3;
                z[5]=5;
                z.forEach(function(val,num){
                    ok( val==num, " for "+num+" Passed! " );                                                                            
                })

              });
              
              
              test( "event access", function() {                
                var z=new app.ArrayCollection();              
                
                ok( z.on, "method on accees" );                                                                            
                ok( z.fire, "method fire accees" );                                
                
              });
              
              test( "event used", function() {                
                var z=new app.ArrayCollection();                                              
                
                z.on('hello',function(){
                    ok( z.fire, "Event passed" ); 
                })
                z.fire('hello');                
              });
              
        </script>
    </body>
    
</html>