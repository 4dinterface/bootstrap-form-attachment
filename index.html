<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <link rel="stylesheet" href="./css/style.css"/>

        <!--Отключены. Частично перенесены в style.css-->
        <!--<link rel="stylesheet" href="client/view/Timeline.css"/>-->

        <link rel="stylesheet" href="client/view/Stage.css">

        <script src="frameworks/easelJs/easeljs-0.6.0.min.js.js"></script>
        <script src="frameworks/easelJs/filters/BoxBlurFilter.js"></script>
        <script src="frameworks/zepto/zepto-1.0.min.js"></script>

        <script src="frameworks/zepto/zepto.data.js"></script>
        <script src="frameworks/zepto/zepto.draggable.js"></script>
        <script src="frameworks/jqote2/jquery.jqote2.js"></script>

        <script src="client/core/Class.js"></script>
        <script src="client/core/ClassLoader.js"></script>

        <script>

//            Zepto(function() {
//                $( '#timeline-editor-body' ).on( 'mousedown', '.timeline-block', function( e ) {
//
//                    $( this )
//                        // TODO: Выделение блоков. Перенести в контроллер
//                        //.toggleClass( 'timeline-block-select' )
//                        // TODO: Перетаскивание блоков. Перенести в контроллер
//                        // TODO: Убрать объект события из параметров
//                        .draggable( e, {
//                        axis: 'x',
//                        clazz: 'cursor-drag',
//                        area: {
//                            left: 0
//                        }
//                    });
//
//                });
//            });
        </script>
        
        <script src="client/app.js"></script>
    </head>
    <body>

        <div class="head">
            <div class="logo"></div>
            <div class="menu">
                <div class="menu-item" id="menu-item-FileOpen" >File <input type="file" id="files" name="files[]" style="display:none; margin-top:-4px;"/></div>
                <div class="menu-item">Edit</div>
                <div class="menu-item">Modify</div>
                <div class="menu-item">Window</div>
                <div class="menu-item">Preferenses</div>
                <div class="menu-item">Help</div>                
            </div>
        </div>

        <div class="body">
            <div class="body-block">


                <!-- LEFT PANELS -->
                <div class="body-panels">

                    <div class="tab">
                        <div class="tab-head">
                            <div class="tab-head-circle"></div>
                            <div class="tab-head-title">
                                <div class="tab-head-title-glass"></div>
                                <div class="tab-head-title-text">Properties</div>
                            </div>
                        </div>
                        
                        <div class="tab-body" id="property-panel" style="overflow-y: scroll; height:210px;"></div>
                    </div>

                    <div class="tab">
                        <div class="tab-head">
                            <div class="tab-head-circle"></div>
                            <div class="tab-head-title">
                                <div class="tab-head-title-glass"></div>
                                <div class="tab-head-title-text">Library</div>
                            </div>
                        </div>
                        <div class="tab-body"></div>
                    </div>

                </div>
                <!-- END LEFT PANELS -->


                <!-- TOOLS -->
                <div class="body-tools">
                    <div class="tab-head tab-head__tools">
                        <div class="tab-head-circle"></div>
                    </div>
                    <div class="tab-body tab-body__tools">
                        <div class="tool"><div class="tool-item tool-pointer"></div></div>
                        <div class="tool"><div class="tool-item tool-line"></div></div>
                        <div class="tool"><div class="tool-item tool-square"></div></div>
                        <div class="tool"><div class="tool-item tool-circle"></div></div>
                        <div class="tool"><div class="tool-item tool-text"></div></div>
                        <div class="tool"><div class="tool-item tool-pipette"></div></div>
                        <div class="tool"><div class="tool-item tool-lens"></div></div>
                    </div>
                </div>
                <!-- END TOOLS -->


                <!-- SCENE -->
                <div class="body-scene">

                    <div class="tab">
                        <div class="tab-head">
                            <div class="tab-head-circle"></div>
                            <div class="tab-head-title">
                                <div class="tab-head-title-glass"></div>
                                <div class="tab-head-title-text">Scene</div>
                            </div>
                        </div>
                            <div class="tab-body tab-body-scene">
                                <div id="canvas-editor" style="height:200px">                                    
                                    <canvas id="canvas" width="900" height="200"></canvas>
                                </div>
                            </div>
                    </div>

                </div>
                <!-- END SCENE -->


            </div>

            <div class="body-block">


                <!-- TIMELINE -->
                <div class="body-timeline">
                    <div class="tab tab-timeline">
                        <div class="tab-head">
                            <div class="tab-head-circle"></div>
                            <div class="tab-head-title tab-head-title__timeline">
                                <div class="tab-head-title-glass"></div>
                                <div class="tab-head-title-text">Timeline</div>
                            </div>
                        </div>
                        <div class="tab-body tab-body-timeline">

                        </div>
                    </div>
                </div>

                <div id="timeline-editor">
                    <div id="timeline-editor-head">
                        <div id="timeline-ruler"></div>
                        <div id="timeline-ruler-background"></div>
                    </div>
                    <div id="timeline-editor-body">
                        <!--properties, keyframes and runner -->
                    </div>
                </div>

            </div>
        <!-- END TIMELINE -->


        <!-- TEMPLATES -->
                <script type="text/x-jqote-template" id="template-timeline-line">
                    <div class="timeline-line <%=this.clazz%>" id="line-<%=this.index%>" data-shape-id="<%=this.shapeId%>">
                        <%= $.jqote( '#template-timeline-property', this.properties ) %>
                    </div>
                </script>

                <script type="text/x-jqote-template" id="template-timeline-property">
                    <div class="timeline-property <%=this.clazz%>" data-property-id="<%=this.id%>" style="left:<%=this.left%>px; width:<%=this.width%>px;">
                        <%= $.jqote( '#template-timeline-keyframe', this.keyframes ) %>
                    </div>
                </script>

                <script type="text/x-jqote-template" id="template-timeline-keyframe">
                    <div class="timeline-keyframe" data-keyframe-id="<%=this.id%>" style="left:<%=this.left%>px;"></div>
                </script>

                <script type="text/x-jqote-template" id="template-timeline-ruler">
                    <div class="timeline-ruler-pick" style="width:<%=this.width%>px;">
                        <%=this.value%>
                    </div>
                </script>

            <script type="text/x-jqote-template" id="template-timeline-runner">
                <div class="timeline-runner" style="margin-left: <%=this%>px;"></div>
            </script>
        <!-- END TEMPLATES -->

            </div>
        </div>
    </body>
</html>
